function cov_1vy7xwbl8p(){var path="/Users/shubham/Downloads/backend_florashop-2/middleware/error.js";var hash="12ed86aea7d76c52dd5066bbeaaefb21e4b41c30";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/shubham/Downloads/backend_florashop-2/middleware/error.js",statementMap:{"0":{start:{line:1,column:21},end:{line:1,column:53}},"1":{start:{line:3,column:0},end:{line:37,column:2}},"2":{start:{line:4,column:2},end:{line:4,column:41}},"3":{start:{line:5,column:2},end:{line:5,column:37}},"4":{start:{line:8,column:2},end:{line:11,column:3}},"5":{start:{line:9,column:20},end:{line:9,column:80}},"6":{start:{line:10,column:4},end:{line:10,column:41}},"7":{start:{line:14,column:2},end:{line:17,column:3}},"8":{start:{line:15,column:20},end:{line:15,column:75}},"9":{start:{line:16,column:4},end:{line:16,column:41}},"10":{start:{line:20,column:2},end:{line:23,column:3}},"11":{start:{line:21,column:20},end:{line:21,column:66}},"12":{start:{line:22,column:4},end:{line:22,column:41}},"13":{start:{line:26,column:2},end:{line:29,column:3}},"14":{start:{line:27,column:20},end:{line:27,column:55}},"15":{start:{line:28,column:4},end:{line:28,column:41}},"16":{start:{line:32,column:2},end:{line:36,column:5}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:17},end:{line:3,column:18}},loc:{start:{line:3,column:42},end:{line:37,column:1}},line:3}},branchMap:{"0":{loc:{start:{line:4,column:19},end:{line:4,column:40}},type:"binary-expr",locations:[{start:{line:4,column:19},end:{line:4,column:33}},{start:{line:4,column:37},end:{line:4,column:40}}],line:4},"1":{loc:{start:{line:5,column:15},end:{line:5,column:36}},type:"binary-expr",locations:[{start:{line:5,column:15},end:{line:5,column:25}},{start:{line:5,column:29},end:{line:5,column:36}}],line:5},"2":{loc:{start:{line:8,column:2},end:{line:11,column:3}},type:"if",locations:[{start:{line:8,column:2},end:{line:11,column:3}},{start:{line:8,column:2},end:{line:11,column:3}}],line:8},"3":{loc:{start:{line:14,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:14,column:2},end:{line:17,column:3}},{start:{line:14,column:2},end:{line:17,column:3}}],line:14},"4":{loc:{start:{line:20,column:2},end:{line:23,column:3}},type:"if",locations:[{start:{line:20,column:2},end:{line:23,column:3}},{start:{line:20,column:2},end:{line:23,column:3}}],line:20},"5":{loc:{start:{line:26,column:2},end:{line:29,column:3}},type:"if",locations:[{start:{line:26,column:2},end:{line:29,column:3}},{start:{line:26,column:2},end:{line:29,column:3}}],line:26}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"12ed86aea7d76c52dd5066bbeaaefb21e4b41c30"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1vy7xwbl8p=function(){return actualCoverage;};}return actualCoverage;}cov_1vy7xwbl8p();const ErrorHandler=(cov_1vy7xwbl8p().s[0]++,require("../utils/ErrorHandler"));cov_1vy7xwbl8p().s[1]++;module.exports=(err,req,res,next)=>{cov_1vy7xwbl8p().f[0]++;cov_1vy7xwbl8p().s[2]++;err.statusCode=(cov_1vy7xwbl8p().b[0][0]++,err.statusCode)||(cov_1vy7xwbl8p().b[0][1]++,500);cov_1vy7xwbl8p().s[3]++;err.status=(cov_1vy7xwbl8p().b[1][0]++,err.status)||(cov_1vy7xwbl8p().b[1][1]++,"error");//wrong mongoose id
cov_1vy7xwbl8p().s[4]++;if(err.name==="CastError"){cov_1vy7xwbl8p().b[2][0]++;const message=(cov_1vy7xwbl8p().s[5]++,`Invalid mongo Id:  Resource not found with id ${err.value}`);cov_1vy7xwbl8p().s[6]++;err=new ErrorHandler(message,400);}else{cov_1vy7xwbl8p().b[2][1]++;}// dublicate error solve code
cov_1vy7xwbl8p().s[7]++;if(err.code===11000){cov_1vy7xwbl8p().b[3][0]++;const message=(cov_1vy7xwbl8p().s[8]++,`Duplicate value: ${Object.keys(err.keyValue)} Entered`);cov_1vy7xwbl8p().s[9]++;err=new ErrorHandler(message,400);}else{cov_1vy7xwbl8p().b[3][1]++;}// wrong jwt error
cov_1vy7xwbl8p().s[10]++;if(err.name==="JsonWebTokenError"){cov_1vy7xwbl8p().b[4][0]++;const message=(cov_1vy7xwbl8p().s[11]++,`Invalid url so plz try again: ${err.message}`);cov_1vy7xwbl8p().s[12]++;err=new ErrorHandler(message,400);}else{cov_1vy7xwbl8p().b[4][1]++;}//jwt expire error
cov_1vy7xwbl8p().s[13]++;if(err.name==="TokenExpiredError"){cov_1vy7xwbl8p().b[5][0]++;const message=(cov_1vy7xwbl8p().s[14]++,`Token url Expired: ${err.message}`);cov_1vy7xwbl8p().s[15]++;err=new ErrorHandler(message,400);}else{cov_1vy7xwbl8p().b[5][1]++;}cov_1vy7xwbl8p().s[16]++;res.status(err.statusCode).json({success:false,message:err.message,status:err.status});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXZ5N3h3Ymw4cCIsImFjdHVhbENvdmVyYWdlIiwiRXJyb3JIYW5kbGVyIiwicyIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiZXJyIiwicmVxIiwicmVzIiwibmV4dCIsImYiLCJzdGF0dXNDb2RlIiwiYiIsInN0YXR1cyIsIm5hbWUiLCJtZXNzYWdlIiwidmFsdWUiLCJjb2RlIiwiT2JqZWN0Iiwia2V5cyIsImtleVZhbHVlIiwianNvbiIsInN1Y2Nlc3MiXSwic291cmNlcyI6WyJlcnJvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBFcnJvckhhbmRsZXIgPSByZXF1aXJlKFwiLi4vdXRpbHMvRXJyb3JIYW5kbGVyXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChlcnIsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gIGVyci5zdGF0dXNDb2RlID0gZXJyLnN0YXR1c0NvZGUgfHwgNTAwO1xuICBlcnIuc3RhdHVzID0gZXJyLnN0YXR1cyB8fCBcImVycm9yXCI7XG5cbiAgLy93cm9uZyBtb25nb29zZSBpZFxuICBpZiAoZXJyLm5hbWUgPT09IFwiQ2FzdEVycm9yXCIpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYEludmFsaWQgbW9uZ28gSWQ6ICBSZXNvdXJjZSBub3QgZm91bmQgd2l0aCBpZCAke2Vyci52YWx1ZX1gO1xuICAgIGVyciA9IG5ldyBFcnJvckhhbmRsZXIobWVzc2FnZSwgNDAwKTtcbiAgfVxuXG4gIC8vIGR1YmxpY2F0ZSBlcnJvciBzb2x2ZSBjb2RlXG4gIGlmIChlcnIuY29kZSA9PT0gMTEwMDApIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYER1cGxpY2F0ZSB2YWx1ZTogJHtPYmplY3Qua2V5cyhlcnIua2V5VmFsdWUpfSBFbnRlcmVkYDtcbiAgICBlcnIgPSBuZXcgRXJyb3JIYW5kbGVyKG1lc3NhZ2UsIDQwMCk7XG4gIH1cblxuICAvLyB3cm9uZyBqd3QgZXJyb3JcbiAgaWYgKGVyci5uYW1lID09PSBcIkpzb25XZWJUb2tlbkVycm9yXCIpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYEludmFsaWQgdXJsIHNvIHBseiB0cnkgYWdhaW46ICR7ZXJyLm1lc3NhZ2V9YDtcbiAgICBlcnIgPSBuZXcgRXJyb3JIYW5kbGVyKG1lc3NhZ2UsIDQwMCk7XG4gIH1cblxuICAvL2p3dCBleHBpcmUgZXJyb3JcbiAgaWYgKGVyci5uYW1lID09PSBcIlRva2VuRXhwaXJlZEVycm9yXCIpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYFRva2VuIHVybCBFeHBpcmVkOiAke2Vyci5tZXNzYWdlfWA7XG4gICAgZXJyID0gbmV3IEVycm9ySGFuZGxlcihtZXNzYWdlLCA0MDApO1xuICB9XG5cblxuICByZXMuc3RhdHVzKGVyci5zdGF0dXNDb2RlKS5qc29uKHtcbiAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcbiAgICBzdGF0dXM6IGVyci5zdGF0dXMsXG4gIH0pO1xufTtcblxuXG5cbiJdLCJtYXBwaW5ncyI6IjI4RkFlWTtBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FmWixLQUFNLENBQUFFLFlBQVksRUFBQUYsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxFQUFDSixjQUFBLEdBQUFHLENBQUEsTUFFdERFLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHLENBQUNDLEdBQUcsQ0FBRUMsR0FBRyxDQUFFQyxHQUFHLENBQUVDLElBQUksR0FBSyxDQUFBVixjQUFBLEdBQUFXLENBQUEsTUFBQVgsY0FBQSxHQUFBRyxDQUFBLE1BQ3hDSSxHQUFHLENBQUNLLFVBQVUsQ0FBRyxDQUFBWixjQUFBLEdBQUFhLENBQUEsU0FBQU4sR0FBRyxDQUFDSyxVQUFVLElBQUFaLGNBQUEsR0FBQWEsQ0FBQSxTQUFJLEdBQUcsRUFBQ2IsY0FBQSxHQUFBRyxDQUFBLE1BQ3ZDSSxHQUFHLENBQUNPLE1BQU0sQ0FBRyxDQUFBZCxjQUFBLEdBQUFhLENBQUEsU0FBQU4sR0FBRyxDQUFDTyxNQUFNLElBQUFkLGNBQUEsR0FBQWEsQ0FBQSxTQUFJLE9BQU8sRUFFbEM7QUFBQWIsY0FBQSxHQUFBRyxDQUFBLE1BQ0EsR0FBSUksR0FBRyxDQUFDUSxJQUFJLEdBQUssV0FBVyxDQUFFLENBQUFmLGNBQUEsR0FBQWEsQ0FBQSxTQUM1QixLQUFNLENBQUFHLE9BQU8sRUFBQWhCLGNBQUEsR0FBQUcsQ0FBQSxNQUFJLGlEQUFnREksR0FBRyxDQUFDVSxLQUFNLEVBQUMsRUFBQ2pCLGNBQUEsR0FBQUcsQ0FBQSxNQUM3RUksR0FBRyxDQUFHLEdBQUksQ0FBQUwsWUFBWSxDQUFDYyxPQUFPLENBQUUsR0FBRyxDQUFDLENBQ3RDLENBQUMsS0FBQWhCLGNBQUEsR0FBQWEsQ0FBQSxVQUVEO0FBQUFiLGNBQUEsR0FBQUcsQ0FBQSxNQUNBLEdBQUlJLEdBQUcsQ0FBQ1csSUFBSSxHQUFLLEtBQUssQ0FBRSxDQUFBbEIsY0FBQSxHQUFBYSxDQUFBLFNBQ3RCLEtBQU0sQ0FBQUcsT0FBTyxFQUFBaEIsY0FBQSxHQUFBRyxDQUFBLE1BQUksb0JBQW1CZ0IsTUFBTSxDQUFDQyxJQUFJLENBQUNiLEdBQUcsQ0FBQ2MsUUFBUSxDQUFFLFVBQVMsRUFBQ3JCLGNBQUEsR0FBQUcsQ0FBQSxNQUN4RUksR0FBRyxDQUFHLEdBQUksQ0FBQUwsWUFBWSxDQUFDYyxPQUFPLENBQUUsR0FBRyxDQUFDLENBQ3RDLENBQUMsS0FBQWhCLGNBQUEsR0FBQWEsQ0FBQSxVQUVEO0FBQUFiLGNBQUEsR0FBQUcsQ0FBQSxPQUNBLEdBQUlJLEdBQUcsQ0FBQ1EsSUFBSSxHQUFLLG1CQUFtQixDQUFFLENBQUFmLGNBQUEsR0FBQWEsQ0FBQSxTQUNwQyxLQUFNLENBQUFHLE9BQU8sRUFBQWhCLGNBQUEsR0FBQUcsQ0FBQSxPQUFJLGlDQUFnQ0ksR0FBRyxDQUFDUyxPQUFRLEVBQUMsRUFBQ2hCLGNBQUEsR0FBQUcsQ0FBQSxPQUMvREksR0FBRyxDQUFHLEdBQUksQ0FBQUwsWUFBWSxDQUFDYyxPQUFPLENBQUUsR0FBRyxDQUFDLENBQ3RDLENBQUMsS0FBQWhCLGNBQUEsR0FBQWEsQ0FBQSxVQUVEO0FBQUFiLGNBQUEsR0FBQUcsQ0FBQSxPQUNBLEdBQUlJLEdBQUcsQ0FBQ1EsSUFBSSxHQUFLLG1CQUFtQixDQUFFLENBQUFmLGNBQUEsR0FBQWEsQ0FBQSxTQUNwQyxLQUFNLENBQUFHLE9BQU8sRUFBQWhCLGNBQUEsR0FBQUcsQ0FBQSxPQUFJLHNCQUFxQkksR0FBRyxDQUFDUyxPQUFRLEVBQUMsRUFBQ2hCLGNBQUEsR0FBQUcsQ0FBQSxPQUNwREksR0FBRyxDQUFHLEdBQUksQ0FBQUwsWUFBWSxDQUFDYyxPQUFPLENBQUUsR0FBRyxDQUFDLENBQ3RDLENBQUMsS0FBQWhCLGNBQUEsR0FBQWEsQ0FBQSxVQUFBYixjQUFBLEdBQUFHLENBQUEsT0FHRE0sR0FBRyxDQUFDSyxNQUFNLENBQUNQLEdBQUcsQ0FBQ0ssVUFBVSxDQUFDLENBQUNVLElBQUksQ0FBQyxDQUM5QkMsT0FBTyxDQUFFLEtBQUssQ0FDZFAsT0FBTyxDQUFFVCxHQUFHLENBQUNTLE9BQU8sQ0FDcEJGLE1BQU0sQ0FBRVAsR0FBRyxDQUFDTyxNQUNkLENBQUMsQ0FBQyxDQUNKLENBQUMifQ==