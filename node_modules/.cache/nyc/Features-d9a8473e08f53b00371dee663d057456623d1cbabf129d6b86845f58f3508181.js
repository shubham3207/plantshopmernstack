function cov_jwfzrkqbm(){var path="/Users/shubham/Downloads/backend_florashop-2/utils/Features.js";var hash="359106c21be668d10045aaafbedd038f38909535";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/shubham/Downloads/backend_florashop-2/utils/Features.js",statementMap:{"0":{start:{line:3,column:8},end:{line:3,column:27}},"1":{start:{line:4,column:8},end:{line:4,column:33}},"2":{start:{line:7,column:24},end:{line:14,column:16}},"3":{start:{line:15,column:8},end:{line:15,column:40}},"4":{start:{line:16,column:8},end:{line:16,column:20}},"5":{start:{line:19,column:26},end:{line:19,column:46}},"6":{start:{line:22,column:29},end:{line:22,column:58}},"7":{start:{line:23,column:8},end:{line:23,column:61}},"8":{start:{line:23,column:38},end:{line:23,column:59}},"9":{start:{line:25,column:8},end:{line:25,column:48}},"10":{start:{line:26,column:8},end:{line:26,column:20}},"11":{start:{line:30,column:28},end:{line:30,column:59}},"12":{start:{line:31,column:21},end:{line:31,column:54}},"13":{start:{line:33,column:8},end:{line:33,column:64}},"14":{start:{line:34,column:8},end:{line:34,column:20}},"15":{start:{line:38,column:0},end:{line:38,column:26}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:33},end:{line:5,column:5}},line:2},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:13},end:{line:17,column:5}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:13},end:{line:27,column:5}},line:18},"3":{name:"(anonymous_3)",decl:{start:{line:23,column:29},end:{line:23,column:30}},loc:{start:{line:23,column:38},end:{line:23,column:59}},line:23},"4":{name:"(anonymous_4)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:30},end:{line:35,column:5}},line:29}},branchMap:{"0":{loc:{start:{line:7,column:24},end:{line:14,column:16}},type:"cond-expr",locations:[{start:{line:8,column:14},end:{line:13,column:13}},{start:{line:14,column:14},end:{line:14,column:16}}],line:7},"1":{loc:{start:{line:30,column:28},end:{line:30,column:59}},type:"binary-expr",locations:[{start:{line:30,column:28},end:{line:30,column:54}},{start:{line:30,column:58},end:{line:30,column:59}}],line:30}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"359106c21be668d10045aaafbedd038f38909535"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_jwfzrkqbm=function(){return actualCoverage;};}return actualCoverage;}cov_jwfzrkqbm();class Features{constructor(query,queryStr){cov_jwfzrkqbm().f[0]++;cov_jwfzrkqbm().s[0]++;this.query=query;cov_jwfzrkqbm().s[1]++;this.queryStr=queryStr;}search(){cov_jwfzrkqbm().f[1]++;const keyword=(cov_jwfzrkqbm().s[2]++,this.queryStr.keyword?(cov_jwfzrkqbm().b[0][0]++,{name:{$regex:this.queryStr.keyword,$options:"i"}}):(cov_jwfzrkqbm().b[0][1]++,{}));cov_jwfzrkqbm().s[3]++;this.query.find({...keyword});cov_jwfzrkqbm().s[4]++;return this;}filter(){cov_jwfzrkqbm().f[2]++;const queryCopy=(cov_jwfzrkqbm().s[5]++,{...this.queryStr});// remove field for category
const removeFields=(cov_jwfzrkqbm().s[6]++,["keyword","page ","limit"]);cov_jwfzrkqbm().s[7]++;removeFields.forEach(key=>{cov_jwfzrkqbm().f[3]++;cov_jwfzrkqbm().s[8]++;return delete queryCopy[key];});cov_jwfzrkqbm().s[9]++;this.query=this.query.find(queryCopy);cov_jwfzrkqbm().s[10]++;return this;}pagination(resultPerPage){cov_jwfzrkqbm().f[4]++;const currentPage=(cov_jwfzrkqbm().s[11]++,(cov_jwfzrkqbm().b[1][0]++,Number(this.queryStr.page))||(cov_jwfzrkqbm().b[1][1]++,1));const skip=(cov_jwfzrkqbm().s[12]++,resultPerPage*(currentPage-1));cov_jwfzrkqbm().s[13]++;this.query=this.query.limit(resultPerPage).skip(skip);cov_jwfzrkqbm().s[14]++;return this;}}cov_jwfzrkqbm().s[15]++;module.exports=Features;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfandmenJrcWJtIiwiYWN0dWFsQ292ZXJhZ2UiLCJGZWF0dXJlcyIsImNvbnN0cnVjdG9yIiwicXVlcnkiLCJxdWVyeVN0ciIsImYiLCJzIiwic2VhcmNoIiwia2V5d29yZCIsImIiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJmaW5kIiwiZmlsdGVyIiwicXVlcnlDb3B5IiwicmVtb3ZlRmllbGRzIiwiZm9yRWFjaCIsImtleSIsInBhZ2luYXRpb24iLCJyZXN1bHRQZXJQYWdlIiwiY3VycmVudFBhZ2UiLCJOdW1iZXIiLCJwYWdlIiwic2tpcCIsImxpbWl0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkZlYXR1cmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEZlYXR1cmVzIHtcbiAgICBjb25zdHJ1Y3RvcihxdWVyeSwgcXVlcnlTdHIpIHtcbiAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICB0aGlzLnF1ZXJ5U3RyID0gcXVlcnlTdHI7XG4gICAgfVxuICAgIHNlYXJjaCgpIHtcbiAgICAgICAgY29uc3Qga2V5d29yZCA9IHRoaXMucXVlcnlTdHIua2V5d29yZFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgICAgICAkcmVnZXg6IHRoaXMucXVlcnlTdHIua2V5d29yZCxcbiAgICAgICAgICAgICAgICAgICAgJG9wdGlvbnM6IFwiaVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHt9O1xuICAgICAgICB0aGlzLnF1ZXJ5LmZpbmQoeyAuLi5rZXl3b3JkIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZmlsdGVyKCkge1xuICAgICAgICBjb25zdCBxdWVyeUNvcHkgPSB7IC4uLnRoaXMucXVlcnlTdHIgfTtcblxuICAgICAgICAvLyByZW1vdmUgZmllbGQgZm9yIGNhdGVnb3J5XG4gICAgICAgIGNvbnN0IHJlbW92ZUZpZWxkcyA9IFtcImtleXdvcmRcIiwgXCJwYWdlIFwiLCBcImxpbWl0XCJdO1xuICAgICAgICByZW1vdmVGaWVsZHMuZm9yRWFjaCgoa2V5KSA9PiBkZWxldGUgcXVlcnlDb3B5W2tleV0pO1xuXG4gICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnF1ZXJ5LmZpbmQocXVlcnlDb3B5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcGFnaW5hdGlvbihyZXN1bHRQZXJQYWdlKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gTnVtYmVyKHRoaXMucXVlcnlTdHIucGFnZSkgfHwgMTtcbiAgICAgICAgY29uc3Qgc2tpcCA9IHJlc3VsdFBlclBhZ2UgKiAoY3VycmVudFBhZ2UgLSAxKTsgXG5cbiAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMucXVlcnkubGltaXQocmVzdWx0UGVyUGFnZSkuc2tpcChza2lwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEZlYXR1cmVzO1xuIl0sIm1hcHBpbmdzIjoid3RGQWVZO0FBQUFBLGFBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsYUFBQSxHQWZaLEtBQU0sQ0FBQUUsUUFBUyxDQUNYQyxXQUFXQSxDQUFDQyxLQUFLLENBQUVDLFFBQVEsQ0FBRSxDQUFBTCxhQUFBLEdBQUFNLENBQUEsTUFBQU4sYUFBQSxHQUFBTyxDQUFBLE1BQ3pCLElBQUksQ0FBQ0gsS0FBSyxDQUFHQSxLQUFLLENBQUNKLGFBQUEsR0FBQU8sQ0FBQSxNQUNuQixJQUFJLENBQUNGLFFBQVEsQ0FBR0EsUUFBUSxDQUM1QixDQUNBRyxNQUFNQSxDQUFBLENBQUcsQ0FBQVIsYUFBQSxHQUFBTSxDQUFBLE1BQ0wsS0FBTSxDQUFBRyxPQUFPLEVBQUFULGFBQUEsR0FBQU8sQ0FBQSxNQUFHLElBQUksQ0FBQ0YsUUFBUSxDQUFDSSxPQUFPLEVBQUFULGFBQUEsR0FBQVUsQ0FBQSxTQUMvQixDQUNFQyxJQUFJLENBQUUsQ0FDRkMsTUFBTSxDQUFFLElBQUksQ0FBQ1AsUUFBUSxDQUFDSSxPQUFPLENBQzdCSSxRQUFRLENBQUUsR0FDZCxDQUNKLENBQUMsR0FBQWIsYUFBQSxHQUFBVSxDQUFBLFNBQ0MsQ0FBQyxDQUFDLEdBQUNWLGFBQUEsR0FBQU8sQ0FBQSxNQUNULElBQUksQ0FBQ0gsS0FBSyxDQUFDVSxJQUFJLENBQUMsQ0FBRSxHQUFHTCxPQUFRLENBQUMsQ0FBQyxDQUFDVCxhQUFBLEdBQUFPLENBQUEsTUFDaEMsTUFBTyxLQUFJLENBQ2YsQ0FDQVEsTUFBTUEsQ0FBQSxDQUFHLENBQUFmLGFBQUEsR0FBQU0sQ0FBQSxNQUNMLEtBQU0sQ0FBQVUsU0FBUyxFQUFBaEIsYUFBQSxHQUFBTyxDQUFBLE1BQUcsQ0FBRSxHQUFHLElBQUksQ0FBQ0YsUUFBUyxDQUFDLEVBRXRDO0FBQ0EsS0FBTSxDQUFBWSxZQUFZLEVBQUFqQixhQUFBLEdBQUFPLENBQUEsTUFBRyxDQUFDLFNBQVMsQ0FBRSxPQUFPLENBQUUsT0FBTyxDQUFDLEVBQUNQLGFBQUEsR0FBQU8sQ0FBQSxNQUNuRFUsWUFBWSxDQUFDQyxPQUFPLENBQUVDLEdBQUcsRUFBSyxDQUFBbkIsYUFBQSxHQUFBTSxDQUFBLE1BQUFOLGFBQUEsR0FBQU8sQ0FBQSxtQkFBTyxDQUFBUyxTQUFTLENBQUNHLEdBQUcsQ0FBQyxDQUFELENBQUMsQ0FBQyxDQUFDbkIsYUFBQSxHQUFBTyxDQUFBLE1BRXJELElBQUksQ0FBQ0gsS0FBSyxDQUFHLElBQUksQ0FBQ0EsS0FBSyxDQUFDVSxJQUFJLENBQUNFLFNBQVMsQ0FBQyxDQUFDaEIsYUFBQSxHQUFBTyxDQUFBLE9BQ3hDLE1BQU8sS0FBSSxDQUNmLENBRUFhLFVBQVVBLENBQUNDLGFBQWEsQ0FBRSxDQUFBckIsYUFBQSxHQUFBTSxDQUFBLE1BQ3RCLEtBQU0sQ0FBQWdCLFdBQVcsRUFBQXRCLGFBQUEsR0FBQU8sQ0FBQSxPQUFHLENBQUFQLGFBQUEsR0FBQVUsQ0FBQSxTQUFBYSxNQUFNLENBQUMsSUFBSSxDQUFDbEIsUUFBUSxDQUFDbUIsSUFBSSxDQUFDLElBQUF4QixhQUFBLEdBQUFVLENBQUEsU0FBSSxDQUFDLEdBQ25ELEtBQU0sQ0FBQWUsSUFBSSxFQUFBekIsYUFBQSxHQUFBTyxDQUFBLE9BQUdjLGFBQWEsRUFBSUMsV0FBVyxDQUFHLENBQUMsQ0FBQyxFQUFDdEIsYUFBQSxHQUFBTyxDQUFBLE9BRS9DLElBQUksQ0FBQ0gsS0FBSyxDQUFHLElBQUksQ0FBQ0EsS0FBSyxDQUFDc0IsS0FBSyxDQUFDTCxhQUFhLENBQUMsQ0FBQ0ksSUFBSSxDQUFDQSxJQUFJLENBQUMsQ0FBQ3pCLGFBQUEsR0FBQU8sQ0FBQSxPQUN4RCxNQUFPLEtBQUksQ0FDZixDQUNKLENBQUNQLGFBQUEsR0FBQU8sQ0FBQSxPQUVEb0IsTUFBTSxDQUFDQyxPQUFPLENBQUcxQixRQUFRIn0=